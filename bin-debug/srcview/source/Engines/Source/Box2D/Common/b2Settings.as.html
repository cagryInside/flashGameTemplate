<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>b2Settings.as</title>
<link rel="stylesheet" type="text/css" href="../../../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptComment">/*
* Copyright (c) 2006-2007 Erin Catto http://www.gphysics.com
*
* This software is provided 'as-is', without any express or implied
* warranty.  In no event will the authors be held liable for any damages
* arising from the use of this software.
* Permission is granted to anyone to use this software for any purpose,
* including commercial applications, and to alter it and redistribute it
* freely, subject to the following restrictions:
* 1. The origin of this software must not be misrepresented; you must not
* claim that you wrote the original software. If you use this software
* in a product, an acknowledgment in the product documentation would be
* appreciated but is not required.
* 2. Altered source versions must be plainly marked as such, and must not be
* misrepresented as being the original software.
* 3. This notice may not be removed or altered from any source distribution.
*/</span>

<span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">Box2D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Common</span><span class="ActionScriptBracket/Brace">{</span>
    
    
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">Box2D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Common</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;
    
    
<span class="ActionScriptASDoc">/**
* This class controls Box2D global settings
*/</span>
<span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">b2Settings</span><span class="ActionScriptBracket/Brace">{</span>
    
    <span class="ActionScriptASDoc">/**
    * The current version of Box2D
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">VERSION</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"2.1alpha"</span>;

    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">USHRT_MAX</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0x0000ffff;

    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_pi</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PI</span>;



    <span class="ActionScriptComment">// Collision
</span>    <span class="ActionScriptASDoc">/**
     *   Number of manifold points in a b2Manifold. This should NEVER change.
     */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_maxManifoldPoints</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 2;

    <span class="ActionScriptComment">/*
     * The growable broadphase doesn't have upper limits,
     * so there is no b2_maxProxies or b2_maxPairs settings.
     */</span>
    <span class="ActionScriptComment">//static public const b2_maxProxies:int = 0;
</span>    <span class="ActionScriptComment">//static public const b2_maxPairs:int = 8 * b2_maxProxies;
</span>    
    <span class="ActionScriptASDoc">/**
     * This is used to fatten AABBs in the dynamic tree. This allows proxies
     * to move by a small amount without triggering a tree adjustment.
     * This is in meters.
     */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_aabbExtension</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0.1;
    
     <span class="ActionScriptASDoc">/**
      * This is used to fatten AABBs in the dynamic tree. This is used to predict
      * the future position based on the current displacement.
     * This is a dimensionless multiplier.
     */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_aabbMultiplier</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 2.0;

    <span class="ActionScriptASDoc">/**
     * The radius of the polygon/edge shape skin. This should not be modified. Making
     * this smaller means polygons will have and insufficient for continuous collision.
     * Making it larger may create artifacts for vertex collision.
     */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_polygonRadius</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 2.0 <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b2_linearSlop</span>;
    
    <span class="ActionScriptComment">// Dynamics
</span>    
    <span class="ActionScriptASDoc">/**
    * A small length used as a collision and constraint tolerance. Usually it is
    * chosen to be numerically significant, but visually insignificant.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_linearSlop</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0.005;    <span class="ActionScriptComment">// 0.5 cm
</span>    
    <span class="ActionScriptASDoc">/**
    * A small angle used as a collision and constraint tolerance. Usually it is
    * chosen to be numerically significant, but visually insignificant.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_angularSlop</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 2.0 <span class="ActionScriptOperator">/</span> 180.0 <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b2_pi</span>;            <span class="ActionScriptComment">// 2 degrees
</span>    
    <span class="ActionScriptASDoc">/**
    * Continuous collision detection (CCD) works with core, shrunken shapes. This is the
    * amount by which shapes are automatically shrunk to work with CCD. This must be
    * larger than b2_linearSlop.
    * @see b2_linearSlop
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_toiSlop</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 8.0 <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b2_linearSlop</span>;
    
    <span class="ActionScriptASDoc">/**
    * Maximum number of contacts to be handled to solve a TOI island.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_maxTOIContactsPerIsland</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 32;
    
    <span class="ActionScriptASDoc">/**
    * Maximum number of joints to be handled to solve a TOI island.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_maxTOIJointsPerIsland</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 32;
    
    <span class="ActionScriptASDoc">/**
    * A velocity threshold for elastic collisions. Any collision with a relative linear
    * velocity below this threshold will be treated as inelastic.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_velocityThreshold</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 1.0;        <span class="ActionScriptComment">// 1 m/s
</span>    
    <span class="ActionScriptASDoc">/**
    * The maximum linear position correction used when solving constraints. This helps to
    * prevent overshoot.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_maxLinearCorrection</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0.2;    <span class="ActionScriptComment">// 20 cm
</span>    
    <span class="ActionScriptASDoc">/**
    * The maximum angular position correction used when solving constraints. This helps to
    * prevent overshoot.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_maxAngularCorrection</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 8.0 <span class="ActionScriptOperator">/</span> 180.0 <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b2_pi</span>;            <span class="ActionScriptComment">// 8 degrees
</span>    
    <span class="ActionScriptASDoc">/**
    * The maximum linear velocity of a body. This limit is very large and is used
    * to prevent numerical problems. You shouldn't need to adjust this.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_maxTranslation</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 2.0;
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_maxTranslationSquared</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b2_maxTranslation</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b2_maxTranslation</span>;
    
    <span class="ActionScriptASDoc">/**
    * The maximum angular velocity of a body. This limit is very large and is used
    * to prevent numerical problems. You shouldn't need to adjust this.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_maxRotation</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0.5 <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b2_pi</span>;
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_maxRotationSquared</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">b2_maxRotation</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b2_maxRotation</span>;
    
    <span class="ActionScriptASDoc">/**
    * This scale factor controls how fast overlap is resolved. Ideally this would be 1 so
    * that overlap is removed in one time step. However using values close to 1 often lead
    * to overshoot.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_contactBaumgarte</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0.2;
    
    <span class="ActionScriptASDoc">/**
     * Friction mixing law. Feel free to customize this.
     */</span>
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">b2MixFriction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">friction1</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">friction2</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Number</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sqrt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">friction1</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">friction2</span><span class="ActionScriptBracket/Brace">)</span>;
    <span class="ActionScriptBracket/Brace">}</span>

    <span class="ActionScriptASDoc">/** 
     * Restitution mixing law. Feel free to customize this.
     */</span>
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">b2MixRestitution</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">restitution1</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">restitution2</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Number</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">restitution1</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">restitution2</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">restitution1</span> : <span class="ActionScriptDefault_Text">restitution2</span>;
    <span class="ActionScriptBracket/Brace">}</span>



    <span class="ActionScriptComment">// Sleep
</span>    
    <span class="ActionScriptASDoc">/**
    * The time that a body must be still before it will go to sleep.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_timeToSleep</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0.5;                    <span class="ActionScriptComment">// half a second
</span>    <span class="ActionScriptASDoc">/**
    * A body cannot sleep if its linear velocity is above this tolerance.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_linearSleepTolerance</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0.01;            <span class="ActionScriptComment">// 1 cm/s
</span>    <span class="ActionScriptASDoc">/**
    * A body cannot sleep if its angular velocity is above this tolerance.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">b2_angularSleepTolerance</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 2.0 <span class="ActionScriptOperator">/</span> 180.0 <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">b2Settings</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">b2_pi</span>;    <span class="ActionScriptComment">// 2 degrees/s
</span>    
    <span class="ActionScriptComment">// assert
</span>    <span class="ActionScriptASDoc">/**
    * b2Assert is used internally to handle assertions. By default, calls are commented out to save performance,
    * so they serve more as documentation than anything else.
    */</span>
    <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">b2Assert</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">a</span>:<span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">)</span> : <span class="ActionScriptReserved">void</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">a</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptComment">//var nullVec:b2Vec2;
</span>            <span class="ActionScriptComment">//nullVec.x++;
</span>            <span class="ActionScriptReserved">throw</span> <span class="ActionScriptString">"Assertion Failed"</span>;
        <span class="ActionScriptBracket/Brace">}</span>
    <span class="ActionScriptBracket/Brace">}</span>
<span class="ActionScriptBracket/Brace">}</span>

<span class="ActionScriptBracket/Brace">}</span>
</pre></body>
</html>
